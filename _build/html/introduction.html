
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CA4015 Assignment 1</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://kiansweeney11.github.io/ca4015-assignment-1/introduction.html/introduction.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-2 bd-sidebar site-navigation show single-page" id="site-navigation">
    
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            
            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/kiansweeney11/ca4015-assignment-1"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/kiansweeney11/ca4015-assignment-1/issues/new?title=Issue%20on%20page%20%2Fintroduction.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#document-data-analysis">
   1. Data Analysis and Experiments
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#initial-data-exploration-how-many-per-study-made-profit">
   Initial data exploration - How many per study made profit?
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#document-data-processing">
   2. Data preparation for Clustering
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#document-clustering">
   3. Clustering
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#k-means-analysis">
   K-Means analysis
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#document-k-means_variation">
   4. K-Means Variation
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#document-conclusion">
   Conclusions
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="introduction.html#document-zbibliography">
   Bibliography
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="ca4015-assignment-1">
<h1>CA4015 Assignment 1<a class="headerlink" href="#ca4015-assignment-1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="iowa-gambling-task">
<h3>Iowa Gambling Task¶<a class="headerlink" href="#iowa-gambling-task" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://www.youtube.com/watch?v=A6SsQIyJMhs">Iowa Gambling Task</a>(IGT) is a pyscological card game thought to portray real world decision making and help understand how and why people make decisions. Typically, the particpiants start with a loan of $2000 and are typically given a deck of four cards to pick from. The deck either rewards or punishes the particpiant each time and the end goal of the game is to make more money than what they started with. Some of the cards are more favourable than others, providing a steady winning return over the long term whereas others can be typically destructive but sporadically produce high winnings.</p>
<p><img alt="" src="https://media.imotions.com/images/20190528132235/The-Iowa-Gambling-Task-%E2%80%93-No-Dice-All-Science.jpg" /></p>
</div>
<div class="section" id="dataset">
<h3>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h3>
<p>For the purpose of this assignment there is varying trial lengths for each task. Typically, the task is run in 100 trials but in this instance we have a 95 trial, 100 trial and 150 trial experiments. We were given a variety of data for the trials. There were 617 particpiants across all the studies and all were reported as “healthy”. We had each subjects choice on their respective trial, their winnings on the respective rounds combined with their losses for each round. We also had an “index” file which told us which study the subject was part of. An overview of our data and other information such as the particpiant demographics can be seen <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">here</a>.</p>
</div>
<div class="section" id="methodology">
<h3>Methodology<a class="headerlink" href="#methodology" title="Permalink to this headline">¶</a></h3>
<p>Initially, we start by breaking down the data and seeing any interesting trends. We try to see which studies produced the highest winnings/losses and how subjects decision making flowed over time (i.e. did they consistently win small or try change strategy by going for broke and another set of cards). We try to combine this with the background demographic information provided to see can we tell anything from the studies. We then cluster the data accordingly by winnings and studys to detect any trends and try tell a story from the data.</p>
</div>
</div>
<div class="toctree-wrapper compound">
<span id="document-data-analysis"></span><div class="section" id="data-analysis-and-experiments">
<h2>1. Data Analysis and Experiments<a class="headerlink" href="#data-analysis-and-experiments" title="Permalink to this headline">¶</a></h2>
<div class="section" id="read-in-data">
<h3>Read in data<a class="headerlink" href="#read-in-data" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/choice_100.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Choice_1</th>
      <th>Choice_2</th>
      <th>Choice_3</th>
      <th>Choice_4</th>
      <th>Choice_5</th>
      <th>Choice_6</th>
      <th>Choice_7</th>
      <th>Choice_8</th>
      <th>Choice_9</th>
      <th>Choice_10</th>
      <th>...</th>
      <th>Choice_91</th>
      <th>Choice_92</th>
      <th>Choice_93</th>
      <th>Choice_94</th>
      <th>Choice_95</th>
      <th>Choice_96</th>
      <th>Choice_97</th>
      <th>Choice_98</th>
      <th>Choice_99</th>
      <th>Choice_100</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>...</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>...</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>...</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>...</td>
      <td>4</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>1</td>
      <td>4</td>
      <td>1</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 100 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_95.csv&#39;</span><span class="p">)</span>
<span class="n">index100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_100.csv&#39;</span><span class="p">)</span>
<span class="n">index150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_150.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s just confirm our python version we are using on our scripts</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">platform</span> <span class="kn">import</span> <span class="n">python_version</span>
<span class="nb">print</span><span class="p">(</span><span class="n">python_version</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.8.8
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="initial-data-exploration-how-many-per-study-made-profit">
<h2>Initial data exploration - How many per study made profit?<a class="headerlink" href="#initial-data-exploration-how-many-per-study-made-profit" title="Permalink to this headline">¶</a></h2>
<p>Here we check the study that used 95 trials of the experiment and see how many of the 15 subjects made profit.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">win95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_95.csv&#39;</span><span class="p">)</span>
<span class="n">loss95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_95.csv&#39;</span><span class="p">)</span>
<span class="n">totalloss95</span> <span class="o">=</span> <span class="n">loss95</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">totalloss95</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1   -4650
Subj_2   -7925
Subj_3   -7850
Subj_4   -7525
Subj_5   -6350
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">totalwin95</span> <span class="o">=</span> <span class="n">win95</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">totalwin95</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1    5800
Subj_2    7250
Subj_3    7100
Subj_4    7000
Subj_5    6450
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin95</span> <span class="o">=</span> <span class="n">totalwin95</span> <span class="o">+</span> <span class="n">totalloss95</span>
<span class="n">margin95</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1    1150
Subj_2    -675
Subj_3    -750
Subj_4    -525
Subj_5     100
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Margin&#39;</span><span class="p">]</span>

<span class="n">margin95df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">margin95</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">margin95df</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">margin95df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Density plot of Profit/Loss margin for 95 people experiments&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;turquoise&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.lines.Line2D at 0x19f4b4c6f70&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_11_1.png" src="_images/data-analysis_11_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">margin95df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">)</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7
</pre></div>
</div>
</div>
</div>
<p>Under half (7/15) of the participants made profit in the 95 trial experiment. We now do the same for both the 100 trial and 150 trial experiments</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">win100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_100.csv&#39;</span><span class="p">)</span>
<span class="n">loss100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_100.csv&#39;</span><span class="p">)</span>
<span class="n">totalloss100</span> <span class="o">=</span> <span class="n">loss100</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">totalloss100</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1   -9950
Subj_2   -8250
Subj_3   -8600
Subj_4   -5650
Subj_5   -8600
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">totalwin100</span> <span class="o">=</span> <span class="n">win100</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">totalwin100</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1    8150
Subj_2    7450
Subj_3    8150
Subj_4    6850
Subj_5    7300
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin100</span> <span class="o">=</span> <span class="n">totalwin100</span> <span class="o">+</span> <span class="n">totalloss100</span>
<span class="n">margin100</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1   -1800
Subj_2    -800
Subj_3    -450
Subj_4    1200
Subj_5   -1300
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Margin&#39;</span><span class="p">]</span>

<span class="n">margin100df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">margin100</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">margin100df</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">margin100df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Density plot of Profit/Loss margin for 100 people experiments&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;turquoise&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.lines.Line2D at 0x19f4c37ee80&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_17_1.png" src="_images/data-analysis_17_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">margin100df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">)</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>208
</pre></div>
</div>
</div>
</div>
<p>Only 41% of participants in the 100 trial experiment made money!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">win150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_150.csv&#39;</span><span class="p">)</span>
<span class="n">loss150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_150.csv&#39;</span><span class="p">)</span>
<span class="n">totalloss150</span> <span class="o">=</span> <span class="n">loss150</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">totalloss150</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1   -12200
Subj_2   -13950
Subj_3    -9300
Subj_4    -6750
Subj_5    -6300
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">totalwin150</span> <span class="o">=</span> <span class="n">win150</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">totalwin150</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1    11650
Subj_2    12350
Subj_3    10200
Subj_4     8950
Subj_5     8200
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin150</span> <span class="o">=</span> <span class="n">totalwin150</span> <span class="o">+</span> <span class="n">totalloss150</span>
<span class="n">margin150</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Subj_1    -550
Subj_2   -1600
Subj_3     900
Subj_4    2200
Subj_5    1900
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Margin&#39;</span><span class="p">]</span>

<span class="n">margin150df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">margin150</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">margin150df</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">margin150df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Density plot of Profit/Loss margin for 150 people experiments&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;turquoise&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.lines.Line2D at 0x19f4bdac880&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_23_1.png" src="_images/data-analysis_23_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">margin150df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">)</span><span class="o">.</span><span class="n">gt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>62
</pre></div>
</div>
</div>
</div>
<p>There is a much higher % of people making profit in the 150 trial experiment (63%). There is far less people taking part in this experiment than the 100 trial experiment but it may be worth drilling down further into the data to check the differences between the different groups undertaking the experiments here. It might be interesting to see if there is any trends surrounding the age or the gender of the subjects or the number of cards that paid out in the study in question. We will now try to combine the study groups with our “margin” results.</p>
<div class="section" id="adding-in-study-undertakers-to-participant-data">
<h3>Adding in Study undertakers to participant data<a class="headerlink" href="#adding-in-study-undertakers-to-participant-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin95df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index95</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin150df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index150</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index100</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<p>Here we will investigate the Study groups in the 150 person experiment. We will try to see does one group achieve better results in the task than the other.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin150df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Steingroever2011    57
Wetzels             41
Name: Study, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Profit for the 150 trial Wetzels study&quot;</span><span class="p">)</span>
<span class="n">margin150df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin150df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Wetzels&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Profit for the 150 trial Wetzels study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>24000
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Profit for the 150 trial Steingroever2011 study&quot;</span><span class="p">)</span>
<span class="n">margin150df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin150df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Steingroever2011&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Profit for the 150 trial Steingroever2011 study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>12550
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="assessment-of-150-margin-results-for-each-study">
<h3>Assessment of 150 margin results for each study<a class="headerlink" href="#assessment-of-150-margin-results-for-each-study" title="Permalink to this headline">¶</a></h3>
<p>This is interesting to note these values. Both studies make a large cumulative profit over the course of the 150 trials undertaken. There is a net profit between the two studies of 36,550 dollars, almost an average profit of 375 dollars per participant. It is interesting to note that the 41 students in “Wetzels” study were exclusively students, while in Steingroever2011’s study there was a young average age (19.9) but no specific mention of if the participants were students or not. Although they made money it was almost half of the other group studied. We will now measure this against other datasets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Horstmann            162
Wood                 153
SteingroverInPrep     70
Maia                  40
Worthy                35
Premkumar             25
Kjome                 19
Name: Study, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loss for the 100 trial Horstmann study&quot;</span><span class="p">)</span>
<span class="n">margin100df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Horstmann&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loss for the 100 trial Horstmann study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-6200
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loss for the 100 trial Wood study&quot;</span><span class="p">)</span>
<span class="n">margin100df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Wood&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loss for the 100 trial Wood study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-119410
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loss for the 100 trial SteingroverInPrep study&quot;</span><span class="p">)</span>
<span class="n">margin100df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SteingroverInPrep&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loss for the 100 trial SteingroverInPrep study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-4700
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Profit for the 100 trial Maia study&quot;</span><span class="p">)</span>
<span class="n">margin100df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Maia&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Profit for the 100 trial Maia study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13600
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loss for the 100 trial Worthy study&quot;</span><span class="p">)</span>
<span class="n">margin100df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Worthy&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loss for the 100 trial Worthy study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-15100
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Profit for the 100 trial Premkumar study&quot;</span><span class="p">)</span>
<span class="n">margin100df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Premkumar&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Profit for the 100 trial Premkumar study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5995
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Loss for the 100 trial Kjome study&quot;</span><span class="p">)</span>
<span class="n">margin100df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Kjome&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Loss for the 100 trial Kjome study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-8750
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="assessment-of-margin-for-100-trial-experiments">
<h3>Assessment of margin for 100 trial experiments<a class="headerlink" href="#assessment-of-margin-for-100-trial-experiments" title="Permalink to this headline">¶</a></h3>
<p>The results here are in stark contrast to the 150 trial experiments. Despite less trials there is some significant losses accumalated by participants. Although the study conducted by Wood has a large number of participants in 153, the loss of 119,410 is certainly a major outlier. This equates to an average loss of roughly 780 dollars per person. It is particularly interesting to note <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">here</a> in table 1, we see this group has the oldest average age of any group in the study by some distance. However, there is a significant cohort of this group (the first 90) who are between 18-40 years old. The next oldest average age specified actually makes a profit (Premkumar). This potentially suggests age might not be a major factor. Again we see students with strong results in the Maia study as undergraduate students here make a strong profit, similar to the groups in the 150 trial experiments. We now check the 95 trial study as our last part of our margin analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">margin95df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Study</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1150</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-675</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-750</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>-525</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>Fridberg</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Profit for the 95 trial Fridberg study&quot;</span><span class="p">)</span>
<span class="n">margin95df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">margin95df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Fridberg&#39;</span><span class="p">,</span> <span class="s1">&#39;Margin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Profit for the 95 trial Fridberg study
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1250
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="assessment-of-margin-for-the-95-trial-study">
<h3>Assessment of margin for the 95 trial study<a class="headerlink" href="#assessment-of-margin-for-the-95-trial-study" title="Permalink to this headline">¶</a></h3>
<p>In this trial as mentioned previously less than half of the participants made profit, but the 15 participant group made 1,250 over the course of the task. This obviously points to some bigger wins mitigating a collection of smaller losses in the group. The group who took part in this study were slightly older than some of the groups who made bigger profits (mean age of 29.6 years old). One thing consistent through this analysis of profit/loss margins has been student groups making more money than older groups. Age appears to be a factor but it may be interesting to look at the flow of each study too. By this, we mean looking at how participants profit/loss fluctuated on each turn and see did a series of wins lead them to change strategy and go for broke for example? Or did a series of losses at the start of the game potentially set the tone for some participants? To do this we will need to combine win and loss dataframes together and graph our results accordingly.</p>
</div>
<div class="section" id="analysis-of-participants-selection-flow">
<h3>Analysis of participants selection flow<a class="headerlink" href="#analysis-of-participants-selection-flow" title="Permalink to this headline">¶</a></h3>
<p>We will start by looking at the participants in the 95 trial experiment. To merge our dataframes together we will need to change the column names so that they share common names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnnames95</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Trial</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">96</span><span class="p">)]</span>
<span class="n">wins95test</span> <span class="o">=</span> <span class="n">win95</span>
<span class="n">wins95test</span> <span class="o">=</span> <span class="n">wins95test</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames95</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loss95test</span> <span class="o">=</span> <span class="n">loss95</span>
<span class="n">loss95test</span> <span class="o">=</span> <span class="n">loss95test</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames95</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df95_added</span> <span class="o">=</span> <span class="n">wins95test</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">loss95test</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This study was all part of the Fridberg study so we don’t need to worry about comparing other studies here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">per_trial_95</span> <span class="o">=</span> <span class="n">df95_added</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">per_trial_95</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Fridberg Study Win/Loss per round&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;Fridberg Study Win/Loss per round&#39;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_54_1.png" src="_images/data-analysis_54_1.png" />
</div>
</div>
<div class="section" id="next-we-move-onto-the-150-trial-experiments-and-see-how-these-studies-flowed-over-the-course-of-their-trials">
<h4>Next we move onto the 150 trial experiments and see how these studies flowed over the course of their trials<a class="headerlink" href="#next-we-move-onto-the-150-trial-experiments-and-see-how-these-studies-flowed-over-the-course-of-their-trials" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnnames150</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Trial</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">151</span><span class="p">)]</span>
<span class="n">wins150test</span> <span class="o">=</span> <span class="n">win150</span>
<span class="n">wins150test</span> <span class="o">=</span> <span class="n">wins150test</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames150</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loss150test</span> <span class="o">=</span> <span class="n">loss150</span>
<span class="n">loss150test</span> <span class="o">=</span> <span class="n">loss150test</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames150</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loss150test</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Trial1</th>
      <th>Trial2</th>
      <th>Trial3</th>
      <th>Trial4</th>
      <th>Trial5</th>
      <th>Trial6</th>
      <th>Trial7</th>
      <th>Trial8</th>
      <th>Trial9</th>
      <th>Trial10</th>
      <th>...</th>
      <th>Trial141</th>
      <th>Trial142</th>
      <th>Trial143</th>
      <th>Trial144</th>
      <th>Trial145</th>
      <th>Trial146</th>
      <th>Trial147</th>
      <th>Trial148</th>
      <th>Trial149</th>
      <th>Trial150</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>-250</td>
      <td>0</td>
      <td>-350</td>
      <td>0</td>
      <td>0</td>
      <td>-200</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>-250</td>
      <td>0</td>
      <td>-1250</td>
      <td>0</td>
      <td>0</td>
      <td>-50</td>
      <td>0</td>
      <td>0</td>
      <td>-150</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-250</td>
      <td>-350</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-1250</td>
      <td>0</td>
      <td>-250</td>
      <td>-300</td>
      <td>0</td>
      <td>-50</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-150</td>
      <td>-1250</td>
      <td>0</td>
      <td>-50</td>
      <td>-350</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-150</td>
      <td>0</td>
      <td>0</td>
      <td>-50</td>
      <td>-250</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-250</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-250</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-250</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 150 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df150_added</span> <span class="o">=</span> <span class="n">wins150test</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">loss150test</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df150_added</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index150</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">teststein</span> <span class="o">=</span> <span class="n">df150_added</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df150_added</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Steingroever2011&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">teststein</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span>
<span class="n">per_trial_150_stein</span> <span class="o">=</span> <span class="n">teststein</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">per_trial_150_stein</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Winnings per round for Steingroever2011&#39;s study&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for Steingroever2011&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_62_1.png" src="_images/data-analysis_62_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">testWetzels</span> <span class="o">=</span> <span class="n">df150_added</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df150_added</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Wetzels&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">testWetzels</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span>
<span class="n">per_trial_150_wetzels</span> <span class="o">=</span> <span class="n">testWetzels</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">per_trial_150_wetzels</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Winnings per round for Wetzels study&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;Winnings per round for Wetzels study&#39;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_64_1.png" src="_images/data-analysis_64_1.png" />
</div>
</div>
<p>After assessing the participants winnings in each study and how their respective win / losses flowed per trial I decided to delve deeper into why these studies appeared more profitable than others. It is easy to point to the varying amounts of cards that pay out on each study and the number of respective trials each study undertook or the number of participants each study had. I felt it would be interesting to build on the win / loss flow per trials mentioned just above and try to pick out patterns accordingly. This would be something like if studies lost a lot of money is this down to a lower average choice of deck or constant changing of choosen cards and see if we could link this to research and studies on the IGT. This study and research could be related to gender based decision making or age demographies and see if these related studies findings hold true to our sample data.</p>
</div>
<div class="section" id="lastly-we-look-at-our-100-trial-studies-selection-flow">
<h4>Lastly, we look at our 100 Trial studies selection flow<a class="headerlink" href="#lastly-we-look-at-our-100-trial-studies-selection-flow" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnnames100</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Trial</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">)]</span>
<span class="n">wins100test</span> <span class="o">=</span> <span class="n">win100</span>
<span class="n">wins100test</span> <span class="o">=</span> <span class="n">wins100test</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames100</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">loss100test</span> <span class="o">=</span> <span class="n">loss100</span>
<span class="n">loss100test</span> <span class="o">=</span> <span class="n">loss100test</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames100</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df100_added</span> <span class="o">=</span> <span class="n">wins100test</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">loss100test</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df100_added</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index100</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for SteingroverInPrep&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_68_1.png" src="_images/data-analysis_68_1.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for Worthy&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_69_1.png" src="_images/data-analysis_69_1.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for Wood&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_70_1.png" src="_images/data-analysis_70_1.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for Maia&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_71_1.png" src="_images/data-analysis_71_1.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for Horstmann&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_72_1.png" src="_images/data-analysis_72_1.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for Prekumar&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_73_1.png" src="_images/data-analysis_73_1.png" />
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&quot;Winnings per round for Kjome&#39;s study&quot;}&gt;
</pre></div>
</div>
<img alt="_images/data-analysis_74_1.png" src="_images/data-analysis_74_1.png" />
</div>
</div>
<p>Looking at our selection flow graphs we can see studies that lose significant amounts of money such as the Wood and Worthy study start well for the initial trials, all in good profit but big dips around the 21st trial mark for both mark a downturn in results. This points to a varied selection policy in that even after exploring the decks at the start and seeing that they win the subjects deviate from these and pay the price with losses building up. The more profitable Maia and Premkumar studies are noticeable in that whenever they encounter a large dip they normally recover quickly and don’t lose as big for many trials again. This points to a more informed knowledge of the decks and not being unsettled by such losses. We will now use our information gathered here to break down the studies and detect trends in age, gender number of trials / participants and so forth. To do this we will need to process the given data accordingly.</p>
</div>
</div>
</div>
<span id="document-data-processing"></span><div class="section" id="data-preparation-for-clustering">
<h2>2. Data preparation for Clustering<a class="headerlink" href="#data-preparation-for-clustering" title="Permalink to this headline">¶</a></h2>
<p>For our clustering analysis we need to prepare the data accordingly. Following on from our data analysis we want to try to cluster on the profit margin of participants against the number of times the subjects picked their most common deck choice or their average choice. We will then combine this with a scatter plot showing the study each subject was a part of and see what information we can gather from this. We will be looking at age demographies more so but also look to combine this with the amount of cards that pay out in each study and gender breakdowns also. To do this we need to create appropriate CSV files that we can then use for clustering.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sn</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span><span class="p">,</span> <span class="n">AgglomerativeClustering</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">OneHotEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">preprocessing</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_95.csv&#39;</span><span class="p">)</span>
<span class="n">index100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_100.csv&#39;</span><span class="p">)</span>
<span class="n">index150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_150.csv&#39;</span><span class="p">)</span>
<span class="n">win95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_95.csv&#39;</span><span class="p">)</span>
<span class="n">win100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_100.csv&#39;</span><span class="p">)</span>
<span class="n">win150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_150.csv&#39;</span><span class="p">)</span>
<span class="n">loss95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_95.csv&#39;</span><span class="p">)</span>
<span class="n">loss100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_100.csv&#39;</span><span class="p">)</span>
<span class="n">loss150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_150.csv&#39;</span><span class="p">)</span>
<span class="n">choice95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/choice_95.csv&#39;</span><span class="p">)</span>
<span class="n">choice100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/choice_100.csv&#39;</span><span class="p">)</span>
<span class="n">choice150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/choice_150.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="creating-margin-csv-files">
<h3>Creating margin csv files<a class="headerlink" href="#creating-margin-csv-files" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnnames95</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Trial</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">96</span><span class="p">)]</span>
<span class="n">wins95</span> <span class="o">=</span> <span class="n">win95</span>
<span class="n">wins95</span> <span class="o">=</span> <span class="n">wins95</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames95</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">wins95</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Trial1</th>
      <th>Trial2</th>
      <th>Trial3</th>
      <th>Trial4</th>
      <th>Trial5</th>
      <th>Trial6</th>
      <th>Trial7</th>
      <th>Trial8</th>
      <th>Trial9</th>
      <th>Trial10</th>
      <th>...</th>
      <th>Trial86</th>
      <th>Trial87</th>
      <th>Trial88</th>
      <th>Trial89</th>
      <th>Trial90</th>
      <th>Trial91</th>
      <th>Trial92</th>
      <th>Trial93</th>
      <th>Trial94</th>
      <th>Trial95</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>50</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>100</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 95 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">losses95</span> <span class="o">=</span> <span class="n">loss95</span>
<span class="n">losses95</span> <span class="o">=</span> <span class="n">losses95</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames95</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">losses95</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Trial1</th>
      <th>Trial2</th>
      <th>Trial3</th>
      <th>Trial4</th>
      <th>Trial5</th>
      <th>Trial6</th>
      <th>Trial7</th>
      <th>Trial8</th>
      <th>Trial9</th>
      <th>Trial10</th>
      <th>...</th>
      <th>Trial86</th>
      <th>Trial87</th>
      <th>Trial88</th>
      <th>Trial89</th>
      <th>Trial90</th>
      <th>Trial91</th>
      <th>Trial92</th>
      <th>Trial93</th>
      <th>Trial94</th>
      <th>Trial95</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-1250</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-250</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>-50</td>
      <td>-300</td>
      <td>0</td>
      <td>-350</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-25</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-150</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-250</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-150</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>-50</td>
      <td>0</td>
      <td>-50</td>
      <td>-50</td>
      <td>0</td>
      <td>-25</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>-150</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>-75</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 95 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df95_sum</span> <span class="o">=</span> <span class="n">wins95</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">losses95</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df95_sum</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Trial1</th>
      <th>Trial2</th>
      <th>Trial3</th>
      <th>Trial4</th>
      <th>Trial5</th>
      <th>Trial6</th>
      <th>Trial7</th>
      <th>Trial8</th>
      <th>Trial9</th>
      <th>Trial10</th>
      <th>...</th>
      <th>Trial86</th>
      <th>Trial87</th>
      <th>Trial88</th>
      <th>Trial89</th>
      <th>Trial90</th>
      <th>Trial91</th>
      <th>Trial92</th>
      <th>Trial93</th>
      <th>Trial94</th>
      <th>Trial95</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>-1150</td>
      <td>100</td>
      <td>...</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>-200</td>
      <td>50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>0</td>
      <td>-200</td>
      <td>100</td>
      <td>-250</td>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>25</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>-50</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>-200</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>50</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>-50</td>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>100</td>
      <td>0</td>
      <td>50</td>
      <td>0</td>
      <td>0</td>
      <td>50</td>
      <td>25</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>100</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>100</td>
      <td>-50</td>
      <td>100</td>
      <td>100</td>
      <td>100</td>
      <td>...</td>
      <td>-25</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
      <td>50</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 95 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit95</span> <span class="o">=</span> <span class="n">df95_sum</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">profit95df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">profit95</span><span class="p">)</span>
<span class="n">profit95df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Margin&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">profit95df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1150</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-675</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-750</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>-525</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice95</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Choice_1</th>
      <th>Choice_2</th>
      <th>Choice_3</th>
      <th>Choice_4</th>
      <th>Choice_5</th>
      <th>Choice_6</th>
      <th>Choice_7</th>
      <th>Choice_8</th>
      <th>Choice_9</th>
      <th>Choice_10</th>
      <th>...</th>
      <th>Choice_86</th>
      <th>Choice_87</th>
      <th>Choice_88</th>
      <th>Choice_89</th>
      <th>Choice_90</th>
      <th>Choice_91</th>
      <th>Choice_92</th>
      <th>Choice_93</th>
      <th>Choice_94</th>
      <th>Choice_95</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>...</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>...</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>...</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>4</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>3</td>
      <td>2</td>
      <td>2</td>
      <td>...</td>
      <td>2</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>4</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>...</td>
      <td>3</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 95 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">most_common_count</span> <span class="o">=</span> <span class="n">choice95</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">most_common_count</span> <span class="o">=</span> <span class="n">most_common_count</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">profit95df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">most_common_count</span>
<span class="n">profit95df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1150</td>
      <td>71</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-675</td>
      <td>33</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-750</td>
      <td>38</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>-525</td>
      <td>38</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>46</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mode95</span> <span class="o">=</span> <span class="n">choice95</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mode95</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Most Common Choice&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit95df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mode95</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit95df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index95</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">profit95df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Study</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1150</td>
      <td>71</td>
      <td>4</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-675</td>
      <td>33</td>
      <td>4</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-750</td>
      <td>38</td>
      <td>4</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>-525</td>
      <td>38</td>
      <td>4</td>
      <td>Fridberg</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>46</td>
      <td>4</td>
      <td>Fridberg</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean95</span> <span class="o">=</span> <span class="n">choice95</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mean95df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">mean95</span><span class="p">)</span>
<span class="n">mean95df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Average Choice&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">profit95df</span><span class="p">[</span><span class="s1">&#39;Average Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean95df</span><span class="p">[</span><span class="s1">&#39;Average Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">profit95df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Study</th>
      <th>Average Choice</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1150</td>
      <td>71</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>3.400000</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-675</td>
      <td>33</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>2.568421</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-750</td>
      <td>38</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>2.778947</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>-525</td>
      <td>38</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>2.810526</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>46</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>3.021053</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit95df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;Data/cleaned95.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="we-now-do-this-for-the-100-trial-and-150-trial-experiments">
<h3>We now do this for the 100 trial and 150 trial experiments<a class="headerlink" href="#we-now-do-this-for-the-100-trial-and-150-trial-experiments" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnnames100</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Trial</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">101</span><span class="p">)]</span>
<span class="n">wins100</span> <span class="o">=</span> <span class="n">win100</span>
<span class="n">wins100</span> <span class="o">=</span> <span class="n">wins100</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames100</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">losses100</span> <span class="o">=</span> <span class="n">loss100</span>
<span class="n">losses100</span> <span class="o">=</span> <span class="n">losses100</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames100</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df100_sum</span> <span class="o">=</span> <span class="n">wins100</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">losses100</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit100</span> <span class="o">=</span> <span class="n">df100_sum</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">profit100df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">profit100</span><span class="p">)</span>
<span class="n">profit100df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Margin&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit100df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index100</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mode100</span> <span class="o">=</span> <span class="n">choice100</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mode100</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Most Common Choice&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">profit100df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mode100</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit100df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.0    221
4.0    171
3.0     98
1.0     14
Name: Most Common Choice, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit100df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">profit100df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">most_common_count100</span> <span class="o">=</span> <span class="n">choice100</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">most_common_count100</span> <span class="o">=</span> <span class="n">most_common_count100</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">profit100df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">most_common_count100</span>
<span class="n">profit100df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Study</th>
      <th>Most Common Choice</th>
      <th>Most Common Choice Picked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>-1800</td>
      <td>Horstmann</td>
      <td>2</td>
      <td>42</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-800</td>
      <td>Horstmann</td>
      <td>2</td>
      <td>35</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-450</td>
      <td>Horstmann</td>
      <td>2</td>
      <td>42</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>1200</td>
      <td>Horstmann</td>
      <td>4</td>
      <td>35</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>-1300</td>
      <td>Horstmann</td>
      <td>2</td>
      <td>31</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean100</span> <span class="o">=</span> <span class="n">choice100</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mean100df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">mean100</span><span class="p">)</span>
<span class="n">mean100df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Average Choice&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">profit100df</span><span class="p">[</span><span class="s1">&#39;Average Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean100df</span><span class="p">[</span><span class="s1">&#39;Average Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit100df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;Data/cleaned100.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Lastly, we take the 150 trial data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnnames150</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;Trial</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">151</span><span class="p">)]</span>
<span class="n">wins150</span> <span class="o">=</span> <span class="n">win150</span>
<span class="n">wins150</span> <span class="o">=</span> <span class="n">wins150</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames150</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">losses150</span> <span class="o">=</span> <span class="n">loss150</span>
<span class="n">losses150</span> <span class="o">=</span> <span class="n">losses150</span><span class="o">.</span><span class="n">set_axis</span><span class="p">(</span><span class="n">columnnames150</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df150_sum</span> <span class="o">=</span> <span class="n">wins150</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">losses150</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit150</span> <span class="o">=</span> <span class="n">df150_sum</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">profit150df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">profit150</span><span class="p">)</span>
<span class="n">profit150df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Margin&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit150df</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index150</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mode150</span> <span class="o">=</span> <span class="n">choice150</span><span class="o">.</span><span class="n">mode</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mode150</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Most Common Choice&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">profit150df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mode150</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">most_common_count150</span> <span class="o">=</span> <span class="n">choice150</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">value_counts</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">most_common_count150</span> <span class="o">=</span> <span class="n">most_common_count150</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">most_common_count150</span> <span class="o">=</span> <span class="n">most_common_count150</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="n">profit150df</span><span class="p">[</span><span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">most_common_count150</span>
<span class="n">profit150df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Study</th>
      <th>Most Common Choice</th>
      <th>Most Common Choice Picked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>-550</td>
      <td>Steingroever2011</td>
      <td>1.0</td>
      <td>46</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-1600</td>
      <td>Steingroever2011</td>
      <td>2.0</td>
      <td>57</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>900</td>
      <td>Steingroever2011</td>
      <td>4.0</td>
      <td>88</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>2200</td>
      <td>Steingroever2011</td>
      <td>4.0</td>
      <td>111</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>1900</td>
      <td>Steingroever2011</td>
      <td>4.0</td>
      <td>135</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mean150</span> <span class="o">=</span> <span class="n">choice150</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mean150df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">mean150</span><span class="p">)</span>
<span class="n">mean150df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Average Choice&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">profit150df</span><span class="p">[</span><span class="s1">&#39;Average Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean150df</span><span class="p">[</span><span class="s1">&#39;Average Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit150df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;Data/cleaned150.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">merged95_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">profit95df</span><span class="p">,</span> <span class="n">profit150df</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mergedall</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">merged95_150</span><span class="p">,</span> <span class="n">profit100df</span><span class="p">])</span>
<span class="n">mergedall</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mergedall</span><span class="p">[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="n">mergedall</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Study</th>
      <th>Average Choice</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1150</td>
      <td>71</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>3.400000</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-675</td>
      <td>33</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>2.568421</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-750</td>
      <td>38</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>2.778947</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>-525</td>
      <td>38</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>2.810526</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>46</td>
      <td>4</td>
      <td>Fridberg</td>
      <td>3.021053</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>Subj_500</th>
      <td>75</td>
      <td>29</td>
      <td>2</td>
      <td>Worthy</td>
      <td>2.630000</td>
    </tr>
    <tr>
      <th>Subj_501</th>
      <td>600</td>
      <td>44</td>
      <td>3</td>
      <td>Worthy</td>
      <td>2.840000</td>
    </tr>
    <tr>
      <th>Subj_502</th>
      <td>-1525</td>
      <td>32</td>
      <td>2</td>
      <td>Worthy</td>
      <td>2.380000</td>
    </tr>
    <tr>
      <th>Subj_503</th>
      <td>-750</td>
      <td>27</td>
      <td>1</td>
      <td>Worthy</td>
      <td>2.460000</td>
    </tr>
    <tr>
      <th>Subj_504</th>
      <td>175</td>
      <td>54</td>
      <td>4</td>
      <td>Worthy</td>
      <td>3.100000</td>
    </tr>
  </tbody>
</table>
<p>617 rows × 5 columns</p>
</div></div></div>
</div>
<p>For some of our comparisons we may want to draw on in our k-means clusters we need to change our study values from strings to integers. After plotting our k-means algorithm this will allow us to plot a scatter plot comprising of the different studies which will be colour coded based on their numbers here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">replacements_study</span> <span class="o">=</span> <span class="p">{</span>
  <span class="sa">r</span><span class="s1">&#39;Fridberg&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  
  <span class="sa">r</span><span class="s1">&#39;Horstmann&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;Kjome&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;Maia&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;SteingroverInPrep&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;Premkumar&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;Wood&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;Worthy&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;Steingroever2011&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="sa">r</span><span class="s1">&#39;Wetzels&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>  
<span class="p">}</span>

<span class="n">mergedall</span><span class="p">[</span><span class="s1">&#39;StudyNumber&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mergedall</span><span class="o">.</span><span class="n">Study</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replacements_study</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mergedall</span> <span class="o">=</span> <span class="n">mergedall</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">])</span>
<span class="n">mergedall</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Average Choice</th>
      <th>StudyNumber</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Subj_1</th>
      <td>1150</td>
      <td>71</td>
      <td>4</td>
      <td>3.400000</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_2</th>
      <td>-675</td>
      <td>33</td>
      <td>4</td>
      <td>2.568421</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_3</th>
      <td>-750</td>
      <td>38</td>
      <td>4</td>
      <td>2.778947</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_4</th>
      <td>-525</td>
      <td>38</td>
      <td>4</td>
      <td>2.810526</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Subj_5</th>
      <td>100</td>
      <td>46</td>
      <td>4</td>
      <td>3.021053</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>Subj_500</th>
      <td>75</td>
      <td>29</td>
      <td>2</td>
      <td>2.630000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Subj_501</th>
      <td>600</td>
      <td>44</td>
      <td>3</td>
      <td>2.840000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Subj_502</th>
      <td>-1525</td>
      <td>32</td>
      <td>2</td>
      <td>2.380000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Subj_503</th>
      <td>-750</td>
      <td>27</td>
      <td>1</td>
      <td>2.460000</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Subj_504</th>
      <td>175</td>
      <td>54</td>
      <td>4</td>
      <td>3.100000</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
<p>617 rows × 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mergedall</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;Data/cleaned_all.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="standardize-our-data">
<h3>Standardize our Data<a class="headerlink" href="#standardize-our-data" title="Permalink to this headline">¶</a></h3>
<p>To work best with our k-means algorithm we choose to standardize our values in our joined dataset. This is because the k-means algorithm is a distance based algorithm, calculating the similarity between points based on distance. This gives the data a mean of 0 and standard deviation of 1 and gives common ground between features which would use different values such as our margin and average choice columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scaler</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">StandardScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">mergedall</span><span class="p">)</span>
<span class="n">X_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">mergedall</span><span class="p">)</span>
<span class="n">X_scaled</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1., 1., 1., 1., 1.])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard_all</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">X_scaled</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard_all</span> <span class="o">=</span> <span class="n">standard_all</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;Margin&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Most Common Choice&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Average Choice&#39;</span><span class="p">,</span>
                                           <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;StudyNumber&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard_all</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Average Choice</th>
      <th>StudyNumber</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.044988</td>
      <td>1.062672</td>
      <td>1.234405</td>
      <td>2.271920</td>
      <td>-1.609380</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.414346</td>
      <td>-0.804770</td>
      <td>1.234405</td>
      <td>-0.410317</td>
      <td>-1.609380</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.474318</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.268730</td>
      <td>-1.609380</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.294400</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.370587</td>
      <td>-1.609380</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.205371</td>
      <td>-0.165908</td>
      <td>1.234405</td>
      <td>1.049635</td>
      <td>-1.609380</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>612</th>
      <td>0.185381</td>
      <td>-1.001343</td>
      <td>-0.923181</td>
      <td>-0.211696</td>
      <td>0.952696</td>
    </tr>
    <tr>
      <th>613</th>
      <td>0.605189</td>
      <td>-0.264195</td>
      <td>0.155612</td>
      <td>0.465654</td>
      <td>0.952696</td>
    </tr>
    <tr>
      <th>614</th>
      <td>-1.094035</td>
      <td>-0.853913</td>
      <td>-0.923181</td>
      <td>-1.018065</td>
      <td>0.952696</td>
    </tr>
    <tr>
      <th>615</th>
      <td>-0.474318</td>
      <td>-1.099629</td>
      <td>-2.001975</td>
      <td>-0.760027</td>
      <td>0.952696</td>
    </tr>
    <tr>
      <th>616</th>
      <td>0.265344</td>
      <td>0.227238</td>
      <td>1.234405</td>
      <td>1.304277</td>
      <td>0.952696</td>
    </tr>
  </tbody>
</table>
<p>617 rows × 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard_all</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/standardized_all.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-clustering"></span><div class="section" id="clustering">
<h2>3. Clustering<a class="headerlink" href="#clustering" title="Permalink to this headline">¶</a></h2>
<div class="section" id="after-our-analysis-of-the-data-we-must-now-cluster-the-data-accordingly">
<h3>After our analysis of the data we must now cluster the data accordingly<a class="headerlink" href="#after-our-analysis-of-the-data-we-must-now-cluster-the-data-accordingly" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sn</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span><span class="p">,</span> <span class="n">AgglomerativeClustering</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="first-we-read-in-our-data">
<h4>First, we read in our data<a class="headerlink" href="#first-we-read-in-our-data" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_95.csv&#39;</span><span class="p">)</span>
<span class="n">index100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_100.csv&#39;</span><span class="p">)</span>
<span class="n">index150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/index_150.csv&#39;</span><span class="p">)</span>
<span class="n">win95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_95.csv&#39;</span><span class="p">)</span>
<span class="n">win100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_100.csv&#39;</span><span class="p">)</span>
<span class="n">win150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/wi_150.csv&#39;</span><span class="p">)</span>
<span class="n">loss95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_95.csv&#39;</span><span class="p">)</span>
<span class="n">loss100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_100.csv&#39;</span><span class="p">)</span>
<span class="n">loss150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/lo_150.csv&#39;</span><span class="p">)</span>
<span class="n">choice95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/choice_95.csv&#39;</span><span class="p">)</span>
<span class="n">choice100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/choice_100.csv&#39;</span><span class="p">)</span>
<span class="n">choice150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/choice_150.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Cleaned data from processing</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned95.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">cleaned100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned100.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">cleaned150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned150.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Initially, I decided to cluster based on the profit/loss margin for each subject and their most common choice. However, the most common choice would limit the clusters greatly I felt. There would only be 4 possible values (1,2,3 or 4) and this would limit what we could learn from the approriate cluster analysis. I looked into clustering on the number of times each deck was selected but this would involve multiple clusters, one for each choice against the profit margin but I decided against it. This lead me to going back to my data processing and creating the average choice column to add to my data. This was the sum of all the subjects selection divided by the number of trials and I felt this would provide better cluster analysis as a result as there would be far more variety in the range of values. I also decided to look into how many times subjects picked their most common choice. I felt this would give us a good overview of the respective studies and how they played the game, did they play safe and stick to what they know would win or would they attempt riskier decks in the hope of winning more? We are going to use our standardized data from our data processing as standardized data tends to work better with the k-means algorithm.</p>
</div>
</div>
</div>
<div class="section" id="k-means-analysis">
<h2>K-Means analysis<a class="headerlink" href="#k-means-analysis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="finding-our-value-for-k">
<h3>Finding our value for k<a class="headerlink" href="#finding-our-value-for-k" title="Permalink to this headline">¶</a></h3>
<div class="section" id="silhouette-scores-for-our-dataset">
<h4>Silhouette Scores for our  dataset<a class="headerlink" href="#silhouette-scores-for-our-dataset" title="Permalink to this headline">¶</a></h4>
<p>We now use another metric to test for the optimal number of clusters in our datasets. We try the silhouette coefficient which calculates the robustness of a clustering technique. This metric measures the degree of seperation between clusters. The score scales from -1 to 1. 1 means the clusters are very distinguished and perfectly easy to identify, 0 means the clusters are indifferent or hard to identify and -1 means the clusters are assigned in the wrong way. We will try to use this with our earlier elbow coefficient to confirm the optimal number of clusters for our datasets. The formula for the silhouette score is defined as follows:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
 silhouette - score = {b_{i} - a_{i} \over max(bi, a_{i})} \\
\end{split}\]</div>
<p>In the formula above from <a class="reference external" href="https://towardsdatascience.com/unsupervised-learning-techniques-using-python-k-means-and-silhouette-score-for-clustering-d6dd1f30b660">here</a> bi represents the shortest mean distance between a point to all points in any other cluster of which i is not a part whereas ai is the mean distance of i and all data points from the same cluster.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/standardized_all.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">standard</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Average Choice</th>
      <th>StudyNumber</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.044988</td>
      <td>1.062672</td>
      <td>1.234405</td>
      <td>2.271920</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.414346</td>
      <td>-0.804770</td>
      <td>1.234405</td>
      <td>-0.410317</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.474318</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.268730</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.294400</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.370587</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.205371</td>
      <td>-0.165908</td>
      <td>1.234405</td>
      <td>1.049635</td>
      <td>-1.60938</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
    <span class="n">km</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># Fit the KMeans model</span>
<span class="c1"># Have to pick subset of columns as Study column is in string format</span>
    <span class="n">km</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">standard</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># Calculate Silhoutte Score</span>
<span class="c1">#</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">standard</span><span class="p">,</span> <span class="n">km</span><span class="o">.</span><span class="n">labels_</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># Print the score</span>
<span class="c1">#</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;N = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; Silhouette Score: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>N = 2 Silhouette Score: 0.313
N = 3 Silhouette Score: 0.289
N = 4 Silhouette Score: 0.267
N = 5 Silhouette Score: 0.273
N = 6 Silhouette Score: 0.277
N = 7 Silhouette Score: 0.290
N = 8 Silhouette Score: 0.299
N = 9 Silhouette Score: 0.302
N = 10 Silhouette Score: 0.294
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="elbow-method">
<h4>Elbow Method<a class="headerlink" href="#elbow-method" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">distortions_joined_st</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">K</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">kmeanModel</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">kmeanModel</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">standard</span><span class="p">)</span>
    <span class="n">distortions_joined_st</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kmeanModel</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">distortions_joined_st</span><span class="p">,</span> <span class="s1">&#39;bx-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Distortion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;The Elbow Method showing the optimal k for standardized Dataset&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/clustering_13_0.png" src="_images/clustering_13_0.png" />
</div>
</div>
<p>Looking at our elbow method and silhouette scores for the dataset as whole we can conclude using k=2 or k=3 is a safe value to use for the amount of clusters in our data.</p>
</div>
</div>
<div class="section" id="now-we-look-at-what-we-will-cluster-on-in-our-data">
<h3>Now we look at what we will cluster on in our data<a class="headerlink" href="#now-we-look-at-what-we-will-cluster-on-in-our-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">scatter_matrix</span><span class="p">(</span><span class="n">standard</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">hist_kwds</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Set1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/clustering_16_0.png" src="_images/clustering_16_0.png" />
</div>
</div>
<p>After looking at this scatterplot comparing the various columns against each other in a scatter plot I felt it might be worth looking into how regularly a participant picked their most common choice and the profit margins. We could further look into this by looking at what was their most common choice and the respective study they belonged to.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kmeans_margin_standard</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">standard</span><span class="p">[[</span><span class="s2">&quot;Margin&quot;</span><span class="p">,</span> <span class="s2">&quot;Most Common Choice Picked&quot;</span><span class="p">]])</span>
<span class="n">centroids_betas_standard</span> <span class="o">=</span> <span class="n">kmeans_margin_standard</span><span class="o">.</span><span class="n">cluster_centers_</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">standard</span><span class="p">[</span><span class="s1">&#39;Margin&#39;</span><span class="p">],</span> <span class="n">standard</span><span class="p">[</span><span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span> <span class="n">kmeans_margin_standard</span><span class="o">.</span><span class="n">labels_</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;Set1&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">centroids_betas_standard</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">centroids_betas_standard</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;K-Means cluster for all Subjects - Most Common Choice Picked&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Margin&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Times Most Common Choice Picked&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/clustering_19_0.png" src="_images/clustering_19_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">standard</span><span class="p">[</span><span class="s1">&#39;Margin&#39;</span><span class="p">],</span> <span class="n">standard</span><span class="p">[</span><span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">standard</span><span class="p">[</span><span class="s1">&#39;StudyNumber&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Most common choice picked - Study groups&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Margin&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Times most common choice selected&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.colorbar.Colorbar at 0x20fd1c423a0&gt;
</pre></div>
</div>
<img alt="_images/clustering_20_1.png" src="_images/clustering_20_1.png" />
</div>
</div>
<div class="section" id="note-the-colour-code-starts-in-the-order-numbered-from-earlier-the-ordered-studies-are-as-follows-fridberg-blue-0-horstmann-orange-etc-etc-1-kjome-2-maia-3-steingroverinprep-4-premkumar-5-wood-6-worthy-7-steingroever2011-8-and-wetzels-9">
<h4>NOTE The colour code starts in the order numbered from earlier.  The ordered studies are as follows: Fridberg (blue): 0, Horstmann (orange etc etc): 1, Kjome: 2, Maia: 3, SteingroverInPrep: 4, Premkumar: 5, Wood: 6, Worthy: 7, Steingroever2011: 8 and Wetzels: 9.<a class="headerlink" href="#note-the-colour-code-starts-in-the-order-numbered-from-earlier-the-ordered-studies-are-as-follows-fridberg-blue-0-horstmann-orange-etc-etc-1-kjome-2-maia-3-steingroverinprep-4-premkumar-5-wood-6-worthy-7-steingroever2011-8-and-wetzels-9" title="Permalink to this headline">¶</a></h4>
<p>Immediately we notice our neon scatters here on both the left and right side of the plot. There is a large amount of subjects from Steingroever2011’s study that regularly pick their favoured outcome, a lot of these can be seen to the right of the plot in the more profitable outcome while picking this selection 100 trials or more in the 150 trial experiment. A large chunk of this study picks their most common choice very regularly (2 or above) from our plot also. We can see a couple of outliers in this study also, picking their favoured outcome well over a hundred times with poor results. Again, this study is based on the youngest specifically mentioned mean of subjects (19.9 years old) and it certainly seems to play a part in their decision making. We can see from our scatterplot something similar with the Wetzels study, a student based study with a noticeable group of these subjects picking their favoured choice regularly (2 or more) and winning money over the course of their trials. It is also interesting to note the clusters to the left and centre from our K-means plot containing a sizable proportion of subjects from the Wood study (in pink). This is a particularly interesting study as the first 90 participants were between the ages of 18-40 and the rest had a mean age of 76.98 years old. Despite it being a 100 trial study the vast majority of this study pick their preferred choice an average amount of times, less than or equal to half of their trials. A lot of these participants also lose money over the course of their trials which raises interesting questions about how age can impair decision making. It is interesting to note when researching the Wood et al study that it was regarded as an outlier in that age over time impairs performance in the IGT <span id="id1">[<a class="reference internal" href="introduction.html#id2">1</a>]</span>. However, in general it is seen as something that can negatively impact decision making over time. It also suggests in <span id="id2">[<a class="reference internal" href="introduction.html#id2">1</a>]</span> in later adulthood that a low loss strategy is seen more predominately than the end profit. The Horstmann study follows a similar dispersion to the Woods study with a large amount of subjects centred around the middle cluster and also picking their preffered choice a mixed amount of times out of 100 trials which could be seen as a relatively low numbers and maybe hints at an adaptive approach to the game, where after a period of maybe settling for preferred decks they adapt as their wins/losses dictate. With a similar number of participants in this trial to the Woods trial the one key difference is far more of these subjects lean to the right cluster (breaking even or making a marginal gain). Again, looking at the age demography this is a young adult group with a mean age of 25.6 years old. Something suggested in <span id="id3">[<a class="reference internal" href="introduction.html#id2">1</a>]</span> could hold true here in that adults past adolescence prefer experimental decision making instead of just frequency preference. This could also explain the cohort of the Horstmann study who followed a similar decision making process but lost money in the end. Another study which also has an interesting cluster is the Worthy study, which has 35 subjects the majority of which (22) is female. This study contains a lot of subjects who picked their most common choice with a lot less regularity and very few subjects are above the halfway of our standardized scale. It is something that ties in with some of the potential behavioural findings of <span id="id4">[<a class="reference internal" href="introduction.html#id3">2</a>]</span> in that women are more sensitive to losses in the long term profitable decks. This would explain the constant tinkering between the decks and the lower most common choice value among many subjects in this study. The aforementioned Horstmann study also has a large number of female participants in it (82/162) and as mentioned previously has similarly lower count of the times the most common choice was picked. It is something mentioned in <span id="id5">[<a class="reference internal" href="introduction.html#id4">3</a>]</span> that women pick more disadvantageous decks as they mix a policy of exploration and exploitation, whereas as men will after initial exploration focus on exploitation then. This could definitely explain why these studies with a lower common choice pick and specified amount of females taking part in the study have a more mixed approach to the task and why they float around breaking even. They obviously accept some losses in exploration but exploit the winning cards regularly enough to be around even. We see further information from <span id="id6">[<a class="reference internal" href="introduction.html#id5">4</a>]</span> in gender decision making from the task. Similar to our data there is 40 healthy males and females in this article and it suggests females are more sensitive to losses than males. This could explain the more varied approach females seem to take in our k-means plot.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">joined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned_all.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">joined</span><span class="p">[</span><span class="s1">&#39;cluster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_margin_standard</span><span class="o">.</span><span class="n">labels_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">heatmap</span> <span class="o">=</span> <span class="n">joined</span><span class="p">[[</span><span class="s1">&#39;StudyNumber&#39;</span><span class="p">,</span> <span class="s1">&#39;cluster&#39;</span><span class="p">]]</span>
<span class="n">replacements</span> <span class="o">=</span> <span class="p">{</span>
  <span class="mi">0</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Fridberg&#39;</span><span class="p">,</span>  
  <span class="mi">1</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Horstmann&#39;</span><span class="p">,</span>
  <span class="mi">2</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Kjome&#39;</span><span class="p">,</span>
  <span class="mi">3</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Maia&#39;</span><span class="p">,</span>
  <span class="mi">4</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;SteingroverInPrep&#39;</span><span class="p">,</span>
  <span class="mi">5</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Premkumar&#39;</span><span class="p">,</span>
  <span class="mi">6</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wood&#39;</span><span class="p">,</span>
  <span class="mi">7</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Worthy&#39;</span><span class="p">,</span>
  <span class="mi">8</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Steingroever2011&#39;</span><span class="p">,</span>
  <span class="mi">9</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wetzels&#39;</span><span class="p">,</span>  
<span class="p">}</span>

<span class="n">heatmap</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heatmap</span><span class="o">.</span><span class="n">StudyNumber</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replacements</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">heatmap</span> <span class="o">=</span> <span class="n">heatmap</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;StudyNumber&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counts</span> <span class="o">=</span> <span class="n">heatmap</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Study&#39;</span><span class="p">)[</span><span class="s1">&#39;cluster&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">histdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>
<span class="n">histdf</span> <span class="o">=</span> <span class="n">histdf</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;cluster&#39;</span><span class="p">:</span> <span class="s1">&#39;number&#39;</span><span class="p">})</span>
<span class="n">plt</span> <span class="o">=</span> <span class="n">histdf</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;No. in Cluster&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;How many per study was in each cluster respectively&#39;</span><span class="p">)</span>
<span class="n">plt</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;How many per study was in each cluster respectively&#39;}, xlabel=&#39;Study,cluster&#39;, ylabel=&#39;No. in Cluster&#39;&gt;
</pre></div>
</div>
<img alt="_images/clustering_25_1.png" src="_images/clustering_25_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">centroids_betas_standard</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ 1.443018  ,  1.61018515],
       [-1.07289372, -0.09542955],
       [ 0.29751279, -0.35872379]])
</pre></div>
</div>
</div>
</div>
<p>We see our cluster centres above, the left most cluster is denoted as 1, the right most cluster denoted as 0 and the central cluster as 2.</p>
<p>Using our histogram above it confirms some of our previous statements from earlier. We do indeed see a large majority of Wood study subjects in the less profitable and more varied choice selection cluster to the left of our k-means scatter plot. We also see a large number of subjects from the Horstmann study in the central cluster which from our earlier analysis of profitable studies adds up also. We also see can confirm how unprofitable the Wood study was with very few subjects in the right most cluster.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">commonchoice</span> <span class="o">=</span> <span class="n">joined</span><span class="p">[[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">,</span> <span class="s1">&#39;StudyNumber&#39;</span><span class="p">]]</span>
<span class="n">replacements</span> <span class="o">=</span> <span class="p">{</span>
  <span class="mi">0</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Fridberg&#39;</span><span class="p">,</span>  
  <span class="mi">1</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Horstmann&#39;</span><span class="p">,</span>
  <span class="mi">2</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Kjome&#39;</span><span class="p">,</span>
  <span class="mi">3</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Maia&#39;</span><span class="p">,</span>
  <span class="mi">4</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;SteingroverInPrep&#39;</span><span class="p">,</span>
  <span class="mi">5</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Premkumar&#39;</span><span class="p">,</span>
  <span class="mi">6</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wood&#39;</span><span class="p">,</span>
  <span class="mi">7</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Worthy&#39;</span><span class="p">,</span>
  <span class="mi">8</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Steingroever2011&#39;</span><span class="p">,</span>
  <span class="mi">9</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wetzels&#39;</span><span class="p">,</span>  
<span class="p">}</span>

<span class="n">commonchoice</span><span class="p">[</span><span class="s1">&#39;Study&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">commonchoice</span><span class="o">.</span><span class="n">StudyNumber</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replacements</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">commonchoice</span> <span class="o">=</span> <span class="n">commonchoice</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;StudyNumber&#39;</span><span class="p">])</span>
<span class="n">common_counts</span> <span class="o">=</span> <span class="n">commonchoice</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Study&#39;</span><span class="p">)[</span><span class="s1">&#39;Most Common Choice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">plt2</span> <span class="o">=</span> <span class="n">common_counts</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Times Picked&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Breakdown of how many subjects per studies had a specific common choice&#39;</span><span class="p">)</span>
<span class="n">plt2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:title={&#39;center&#39;:&#39;Breakdown of how many subjects per studies had a specific common choice&#39;}, xlabel=&#39;Study,Most Common Choice&#39;, ylabel=&#39;Times Picked&#39;&gt;
</pre></div>
</div>
<img alt="_images/clustering_29_2.png" src="_images/clustering_29_2.png" />
</div>
</div>
<p>To further add on to our observations from our k-means analysis for most common choice picked and margin we look at the breakdown of each study and how many subjects favoured a specific deck. This graph here adds to the theory of what we discussed earlier with regards how subjects played the game with exploitation versus exploration. We mentioned earlier how females appeared to prefer a policy of exploration over end results. The studies we mentioned then which were the Horstmann and Wood studies and have large numbers which preffered deck 2 which was one of the least favourable decks. They also had large numbers picking deck 4 which could suggest this is the more exploitative section of subjects in the studies. We also see looking at our earlier age studies that two of the seemingly younger studies SteingroeverInPrep and Wetzels follow very consistent decision making patterns in each of the most common choices. This is something we alluded to earlier in that younger adults tend to follow what they know. It is also interesting to note in the SteingroeverInPrep and the Worthy study that have large specified numbers of female participants the variety of spread of subjects across the most common choices. They both have large numbers picking deck 2 and reasonably equal spread across decks 3 and 4 too. This definitely follows on from our previous findings of potential differences in task approaches along gender lines.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Margin&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Average Choice&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;StudyNumber&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab10&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Margin&#39;, ylabel=&#39;Average Choice&#39;&gt;
</pre></div>
</div>
<img alt="_images/clustering_31_1.png" src="_images/clustering_31_1.png" />
</div>
</div>
<p>We will look at the margin vs average choice plot and try to combine this with our earlier graphs too to further our knowledge on subjects decison making. Using our colour bar we can deduce the clusters from what study they are a part of. If we look at the cluster to the left in our k-means scatter plot we can see that a substantial amount of this cluster contains subjects from the Wood et al study. It is interesting to note this had the highest mean average age of any study in the datasets. It also had a large number of participants but looking at the scatter plot very few participants made money over the course of the trials. The majority had an average choice of below 3 and certainly fell into the category of average lower choice and lower financial gain. This study also features heavily in the second cluster (the one most central) and this cluster also contains subjects who struggled to break even. The Horstmann study also features heavily in this cluster as does the Worthy study in yellow. The Worthy study leans more towards the first cluster again in the lower choice average, lower money made category. It is interesting to note that this study does not explicitly state the age demography of the group studied but tells us it was a solely female, undergraduate student study, which hints at it being a younger age group. In the third cluster to the right, which is the higher average choice, higher profit group we can see a large mix of groups with comparatively less subjects in this cluster compared to the other two. We can see a significant amount of subjects from the Maia study and also quite a few from the previously mentioned Horstmann study. We also see even with a small sample size from the study there is a significant number of Premkumar participants in this profitable cluster. Two of these studies contain a very young mean age again. The Maia study is another that focuses on undergraduate students again, but with better results than previous.</p>
</div>
</div>
</div>
<span id="document-k-means_variation"></span><div class="section" id="k-means-variation">
<h2>4. K-Means Variation<a class="headerlink" href="#k-means-variation" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sn</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span><span class="p">,</span> <span class="n">AgglomerativeClustering</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_score</span>
</pre></div>
</div>
</div>
</div>
<p>Import our data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cleaned95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned95.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">cleaned100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned100.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">cleaned150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned150.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">joined</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cleaned_all.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
<span class="n">standard</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/standardized_all.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Average Choice</th>
      <th>StudyNumber</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.044988</td>
      <td>1.062672</td>
      <td>1.234405</td>
      <td>2.271920</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.414346</td>
      <td>-0.804770</td>
      <td>1.234405</td>
      <td>-0.410317</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.474318</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.268730</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.294400</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.370587</td>
      <td>-1.60938</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.205371</td>
      <td>-0.165908</td>
      <td>1.234405</td>
      <td>1.049635</td>
      <td>-1.60938</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="methodology">
<h3>Methodology<a class="headerlink" href="#methodology" title="Permalink to this headline">¶</a></h3>
<p>We are going to attempt to follow the methods stated in <span id="id1">[<a class="reference internal" href="introduction.html#id6">5</a>]</span> in his attempt at constructing a privacy preserving clustering technique based on the k-means algorithm. This involves a 2 step process which is as follows:</p>
<ol class="simple">
<li><p>Data Protection Phase and</p></li>
<li><p>Data Recovery Phase</p></li>
</ol>
<p>The first phase involving the data protection phase involves 4 key steps. Firstly, we apply the K-means algorithm on our dataset and then we select one of the clusters from the result. In our cluster let’s say A, we select the furthest data away from the centroid of A. We generate the set of noises by the using the following equation:</p>
<div class="math notranslate nohighlight">
\[
 n_i^u = d^{u} + \alpha \times (distance(c,d)) \tag{1}
\]</div>
<p>We then use the following equation:</p>
<div class="math notranslate nohighlight">
\[
 p_i = |D| \times Rand(s) \tag{2}
\]</div>
<p>This is to obtain the position of the noise from eq(1) in dataset D. This leads us on to our data recovery phase. Our first step in the phase is to use eq(2) and obtain p_i for position of noise in D’ and commence removals. Then we delete all the noises and the original dataset D can be recovered immediately. The end result should be a dataset that shares cluster information but protects the privacy of the individuals at hand.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kmeans_margin_joined</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">standard</span><span class="p">[[</span><span class="s2">&quot;Margin&quot;</span><span class="p">,</span> <span class="s2">&quot;Most Common Choice Picked&quot;</span><span class="p">]])</span>
<span class="n">centroids_betas_joined</span> <span class="o">=</span> <span class="n">kmeans_margin_joined</span><span class="o">.</span><span class="n">cluster_centers_</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">standard</span><span class="p">[</span><span class="s1">&#39;Margin&#39;</span><span class="p">],</span> <span class="n">standard</span><span class="p">[</span><span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span> <span class="n">kmeans_margin_joined</span><span class="o">.</span><span class="n">labels_</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s2">&quot;Set1&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">centroids_betas_joined</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">centroids_betas_joined</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;K-Means cluster for all Subjects - Most Common Choice Picked&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Margin&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Times Most Common Choice Picked&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/k-means_variation_7_0.png" src="_images/k-means_variation_7_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">centroids_betas_joined</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[-1.10872288, -0.06074673],
       [ 1.41597414,  1.55028183],
       [ 0.25911929, -0.38263846]])
</pre></div>
</div>
</div>
</div>
<p>We can tell from our above cluster centres that cluster 0 is in red, cluster 1 is the right most cluster and cluster 2 is in grey.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">standard</span><span class="p">[</span><span class="s1">&#39;cluster&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_margin_joined</span><span class="o">.</span><span class="n">labels_</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">standard</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Average Choice</th>
      <th>StudyNumber</th>
      <th>cluster</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.044988</td>
      <td>1.062672</td>
      <td>1.234405</td>
      <td>2.271920</td>
      <td>-1.60938</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.414346</td>
      <td>-0.804770</td>
      <td>1.234405</td>
      <td>-0.410317</td>
      <td>-1.60938</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.474318</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.268730</td>
      <td>-1.60938</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.294400</td>
      <td>-0.559054</td>
      <td>1.234405</td>
      <td>0.370587</td>
      <td>-1.60938</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.205371</td>
      <td>-0.165908</td>
      <td>1.234405</td>
      <td>1.049635</td>
      <td>-1.60938</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cluster0</span> <span class="o">=</span> <span class="n">standard</span><span class="p">[</span><span class="n">standard</span><span class="o">.</span><span class="n">cluster</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cluster0</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Average Choice</th>
      <th>StudyNumber</th>
      <th>cluster</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>16</th>
      <td>-1.154008</td>
      <td>0.374667</td>
      <td>-0.923181</td>
      <td>-1.233097</td>
      <td>1.318707</td>
      <td>0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>-1.074044</td>
      <td>-0.067622</td>
      <td>-2.001975</td>
      <td>-1.319109</td>
      <td>1.318707</td>
      <td>0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>-0.594263</td>
      <td>1.357531</td>
      <td>-0.923181</td>
      <td>-0.889046</td>
      <td>1.318707</td>
      <td>0</td>
    </tr>
    <tr>
      <th>28</th>
      <td>-1.673771</td>
      <td>2.586111</td>
      <td>-0.923181</td>
      <td>-1.899695</td>
      <td>1.318707</td>
      <td>0</td>
    </tr>
    <tr>
      <th>37</th>
      <td>-1.193990</td>
      <td>2.094679</td>
      <td>-0.923181</td>
      <td>-0.631008</td>
      <td>1.318707</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>From looking at our graph and cluster 0, I feel data points with margin values less than -2 would be classified as noise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">noises</span> <span class="o">=</span> <span class="n">cluster0</span><span class="p">[</span><span class="n">cluster0</span><span class="o">.</span><span class="n">Margin</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">noises</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
      <th>Most Common Choice</th>
      <th>Average Choice</th>
      <th>StudyNumber</th>
      <th>cluster</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>43</th>
      <td>-2.593351</td>
      <td>4.600983</td>
      <td>-0.923181</td>
      <td>-2.114727</td>
      <td>1.318707</td>
      <td>0</td>
    </tr>
    <tr>
      <th>49</th>
      <td>-3.233059</td>
      <td>3.224973</td>
      <td>-0.923181</td>
      <td>-2.566293</td>
      <td>1.318707</td>
      <td>0</td>
    </tr>
    <tr>
      <th>287</th>
      <td>-2.501393</td>
      <td>-0.657340</td>
      <td>-2.001975</td>
      <td>-2.340510</td>
      <td>-0.877358</td>
      <td>0</td>
    </tr>
    <tr>
      <th>404</th>
      <td>-2.829243</td>
      <td>0.522097</td>
      <td>-0.923181</td>
      <td>-1.630905</td>
      <td>0.220674</td>
      <td>0</td>
    </tr>
    <tr>
      <th>450</th>
      <td>-3.273040</td>
      <td>-0.067622</td>
      <td>-0.923181</td>
      <td>-2.405019</td>
      <td>0.586685</td>
      <td>0</td>
    </tr>
    <tr>
      <th>501</th>
      <td>-2.853232</td>
      <td>0.522097</td>
      <td>-0.923181</td>
      <td>-1.888943</td>
      <td>0.586685</td>
      <td>0</td>
    </tr>
    <tr>
      <th>531</th>
      <td>-2.453415</td>
      <td>0.522097</td>
      <td>-0.923181</td>
      <td>-0.953555</td>
      <td>0.586685</td>
      <td>0</td>
    </tr>
    <tr>
      <th>547</th>
      <td>-3.113113</td>
      <td>0.522097</td>
      <td>-0.923181</td>
      <td>-2.146981</td>
      <td>0.586685</td>
      <td>0</td>
    </tr>
    <tr>
      <th>572</th>
      <td>-2.505391</td>
      <td>0.522097</td>
      <td>-0.923181</td>
      <td>-1.308358</td>
      <td>0.586685</td>
      <td>0</td>
    </tr>
    <tr>
      <th>573</th>
      <td>-2.505391</td>
      <td>0.522097</td>
      <td>-0.923181</td>
      <td>-1.308358</td>
      <td>0.586685</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">marginnoise</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">3.4</span><span class="p">,</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">marginnoise</span> <span class="o">=</span> <span class="n">marginnoise</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Margin&#39;</span><span class="p">})</span>
<span class="n">marginnoise</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choicenoise</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choicenoise</span> <span class="o">=</span> <span class="n">choicenoise</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">})</span>
<span class="n">choicenoise</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Most Common Choice Picked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.220171</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.045314</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.831233</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.094479</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.395261</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">noise</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">marginnoise</span><span class="p">,</span> <span class="n">choicenoise</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Our noise data is now generated we add this back to the original dataset now.</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">noisesf</span> <span class="o">=</span> <span class="n">noises</span><span class="p">[[</span><span class="s1">&#39;Margin&#39;</span><span class="p">,</span> <span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">]]</span>
<span class="n">noisesf</span> <span class="o">=</span> <span class="n">noisesf</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
<span class="n">noisesf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[-2.59335066,  4.6009828 ],
       [-3.23305855,  3.22497306],
       [-2.50139265, -0.65734015],
       [-2.82924294,  0.52209677],
       [-3.2730403 , -0.06762169],
       [-2.85323199,  0.52209677],
       [-2.45341456,  0.52209677],
       [-3.11311332,  0.52209677],
       [-2.50539082,  0.52209677],
       [-2.50539082,  0.52209677]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">centroids_betas_joined</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1.10872288, -0.06074673])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">cdist</span>
<span class="kn">from</span> <span class="nn">scipy.spatial</span> <span class="kn">import</span> <span class="n">distance</span>

<span class="n">distances</span> <span class="o">=</span> <span class="n">distance</span><span class="o">.</span><span class="n">cdist</span><span class="p">(</span><span class="n">centroids_betas_joined</span><span class="p">,</span> <span class="n">noisesf</span><span class="p">,</span> <span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
<span class="n">distances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([4.89242699, 3.91264062, 1.51507518, 1.81656155, 2.16432834,
       1.8392984 , 1.46557233, 2.0874117 , 1.51340276, 1.51340276])
</pre></div>
</div>
</div>
</div>
<p>Our furtherest point away from the centroid of our choosen cluster 0 is the first point we see in the array here. This will be denoted as our data “d” the furtherest point from our centroid, C of cluster 0.</p>
<p>We now need to use this distance value obtained and combine it with our “noise offset ratio” denoted as α. From our previousy cited paper this value is typically in the range 0 - 0.05. We will use 0.05 for α here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">*</span> <span class="n">alpha</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.2446213497147065
</pre></div>
</div>
</div>
</div>
<p>We will now add our noises to dataset we generated above. This is the last step as part of our data protection phase.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clusterframes</span> <span class="o">=</span> <span class="n">standard</span><span class="p">[[</span><span class="s1">&#39;Margin&#39;</span><span class="p">,</span> <span class="s1">&#39;Most Common Choice Picked&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">clusterframes</span> <span class="o">=</span> <span class="n">clusterframes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">noise</span><span class="p">)</span>
<span class="n">clusterframes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.044988</td>
      <td>1.062672</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.414346</td>
      <td>-0.804770</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.474318</td>
      <td>-0.559054</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.294400</td>
      <td>-0.559054</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.205371</td>
      <td>-0.165908</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>-3.122292</td>
      <td>3.384886</td>
    </tr>
    <tr>
      <th>11</th>
      <td>-3.313970</td>
      <td>0.733010</td>
    </tr>
    <tr>
      <th>12</th>
      <td>-2.732256</td>
      <td>1.588493</td>
    </tr>
    <tr>
      <th>13</th>
      <td>-2.889044</td>
      <td>3.483566</td>
    </tr>
    <tr>
      <th>14</th>
      <td>-2.705425</td>
      <td>2.669901</td>
    </tr>
  </tbody>
</table>
<p>632 rows × 2 columns</p>
</div></div></div>
</div>
<p>We now need to randomly shuffle our dataframe with noises added so it is harder to identify our noise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span> <span class="o">=</span> <span class="n">clusterframes</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">sample</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Margin</th>
      <th>Most Common Choice Picked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.613185</td>
      <td>0.522097</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-0.462324</td>
      <td>-0.018478</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.354373</td>
      <td>-0.706483</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.914117</td>
      <td>-0.313338</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-1.321931</td>
      <td>-0.755627</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>627</th>
      <td>0.245353</td>
      <td>-0.952199</td>
    </tr>
    <tr>
      <th>628</th>
      <td>-0.194446</td>
      <td>0.079808</td>
    </tr>
    <tr>
      <th>629</th>
      <td>0.045444</td>
      <td>-0.411624</td>
    </tr>
    <tr>
      <th>630</th>
      <td>-3.313970</td>
      <td>0.733010</td>
    </tr>
    <tr>
      <th>631</th>
      <td>-0.698216</td>
      <td>-0.313338</td>
    </tr>
  </tbody>
</table>
<p>632 rows × 2 columns</p>
</div></div></div>
</div>
<p>With our dataframe randomly assigned we now begin our data recovery phase.</p>
</div>
</div>
<span id="document-conclusion"></span><div class="section" id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="consistent-choice-consistent-rewards">
<h3>Consistent Choice, Consistent Rewards<a class="headerlink" href="#consistent-choice-consistent-rewards" title="Permalink to this headline">¶</a></h3>
<p>In our data analysis using the k-means algorithm we looked at how does profit / loss margins correlate with a subjects consistency of choice and how regularly they pick their favoured deck. From our K-means analysis we learned that a consistency of higher choice led to greater financial rewards at the end of the trials. Although there was some outliers to the left of our scatter plot that picked their favourite deck a high number of times, we could see from our margin vs average choice plot that these subjects most likely picked lower numbers a large percentage of the time.</p>
<p><img alt="" src="https://dailyiowan.com/wp-content/uploads/2021/07/image-475x317.png" /></p>
</div>
<div class="section" id="different-strategies-from-males-and-females">
<h3>Different strategies from males and females<a class="headerlink" href="#different-strategies-from-males-and-females" title="Permalink to this headline">¶</a></h3>
<p>It was also interesting to note from our scatter plot that there appeared to be a pronounced difference in how males and females selected their decks. Studies that indicated the number of female particpiants in their work (and that had high female representation) appeared to mix up their choices regularly over the course of the trials even after an initial period of observation. Whereas studies that did not indicate the number of female particpiants or had lower numbers appeared to be more consistent with their choices, experimenting initially and then sticking to decks they feel are winners.</p>
</div>
</div>
<span id="document-zbibliography"></span><div class="section" id="bibliography">
<h2>Bibliography<a class="headerlink" href="#bibliography" title="Permalink to this headline">¶</a></h2>
<p id="id1"><dl class="citation">
<dt class="label" id="id2"><span class="brackets">1</span></dt>
<dd><p>Kevin M. Beitz, Timothy A. Salthouse and Hasker P. Davis. Performance on the iowa gambling task: from 5 to 89 years of age. <em>Journal of experimental psychology: General</em>, pages 1677–1689, 2014.</p>
</dd>
<dt class="label" id="id3"><span class="brackets">2</span></dt>
<dd><p>Leoniede Visser Ruud van den Bos, Judith Homberg. A critical review of sex differences in decision-making tasks: focus on the iowa gambling task. <em>Behavioural Brain Research</em>, 238:Pages 95–108, 2012.</p>
</dd>
<dt class="label" id="id4"><span class="brackets">3</span></dt>
<dd><p>Suzanna Vlaar Ruud van den Bos, Esther den Heijer and Bart Houx. Exploring gender differences in decision-making using the iowa gambling task. <em>Psychology of Decision Making in Education, Behavior, and High Risk Situations</em>, pages Pages 1115–1134, 2007.</p>
</dd>
<dt class="label" id="id5"><span class="brackets">4</span></dt>
<dd><p>Ruth Garrido-Chaves, Mario Perez-Alarcon, Vanesa Perez, Vanesa Hidalgo, Matias M. Pulopulos, and Alicia Salvador. Frn and p3 during the iowa gambling task: the importance of gender. <em>Pyschophysiology</em>, 2021.</p>
</dd>
<dt class="label" id="id6"><span class="brackets">5</span></dt>
<dd><p>Chen-Yi Lin. A reversible privacy-preserving clustering technique based on k-means algorithm. <em>Applied Soft Computing</em>, 2020.</p>
</dd>
</dl>
</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Kian Sweeney<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>